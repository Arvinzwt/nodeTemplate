(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{482:function(e,t,r){var content=r(501);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(37).default)("81883c6a",content,!0,{sourceMap:!1})},500:function(e,t,r){"use strict";var l=r(482);r.n(l).a},501:function(e,t,r){(t=r(36)(!1)).push([e.i,".mar-t-30[data-v-4207c8a9]{margin-top:20px}.operation_btn[data-v-4207c8a9]{margin-right:10px}.explain[data-v-4207c8a9]{line-height:28px;font-size:12px;color:#999}.apply_select[data-v-4207c8a9]{margin-right:30px}[data-v-4207c8a9] .el-dialog__header{border-bottom:1px solid #e5e5e5}[data-v-4207c8a9] .el-dialog__body{padding:10px 20px}.apply_explain[data-v-4207c8a9]{font-size:11px;line-height:29px;color:#ccc}",""]),e.exports=t},532:function(e,t,r){"use strict";r.r(t);var l=r(497),c=r(478),n={name:"teacherManage",components:{CalendarTable:l.a,SelectTeacher:c.a},data:function(){return{dialogVisible1:!0,dialogVisible2:!1,title:"试听",paramMap:{subject:"",teachingMaterial:"",studySituation:"",auditApplyRequire:"",teachType:""},searchTeacherData:{isExceptOldTeacher:!1,studentId:null,htType:"",htId:"",htDetailId:"",kecheng:"",grade:"1",bookTime:[],adminId:"",city:"",org_code:""},isDisabled:!0,selectTeacherInfo:{},tableData:[{id:"",name:"王二",sex:1,account:"12312312",school:"校区名称",curriculum:"课表名称",schLock:"校区锁定配置",satLock:"饱和度锁定配置",status:1,statusStr:"休假中"}],rules:{subject:{required:!0,message:"请选择学科",trigger:"change"},teachingMaterial:{required:!0,message:"请选择教材版本",trigger:"change"},studySituation:[{required:!0,message:"请填写学习情况",trigger:"blur"},{trigger:"blur",validator:function(e,t,r){t&&t.length<10?r(new Error("最少输入10个字")):r()}}],auditApplyRequire:[{required:!0,message:"请填写试听要求",trigger:"blur"},{trigger:"blur",validator:function(e,t,r){t&&t.length<10?r(new Error("最少输入10个字")):r()}}],teachType:{required:!0,message:"请选择授课形式",trigger:"change"}}}},computed:{options:function(){return this.$store.state.dicInfo}},created:function(){this.refreshPage()},methods:{refreshPage:function(){},onSubmitSearch:function(){this.refreshPage()},singleChange:function(e,t,data){if(!this.paramMap.teachType&&"0"!==this.paramMap.teachType)return this.$message.error("请先选择授课形式"),!1;this.$refs.calendarTable.courseData[e].data[t].teachType?this.$refs.calendarTable.toOrigin():(this.$refs.calendarTable.toOrigin(),this.$refs.calendarTable.changeBackground(e,t,+this.paramMap.teachType))},changeTeachType:function(){this.$refs.calendarTable.toOrigin()},nextStep:function(){var e=this;this.$refs.auditForm.validate((function(t){t&&(e.$refs.calendarTable.isSelectTime()?(e.dialogVisible1=!1,e.dialogVisible2=!0,e.searchTeacherData.isExceptOldTeacher=!1,e.searchTeacherData.studentId=null,e.searchTeacherData.htType="",e.searchTeacherData.htId="",e.searchTeacherData.htDetailId="",e.searchTeacherData.kecheng=e.paramMap.subject,e.searchTeacherData.grade="1",e.searchTeacherData.bookTime=[],e.searchTeacherData.adminId="",e.searchTeacherData.city="",e.searchTeacherData.org_code="jr-gxh",e.$nextTick((function(){e.$refs.searchTeacher.getTeacherList()}))):e.$message.error("请选择排课时段"))}))},changeBtnStatus:function(e){this.isDisabled=!1,this.selectTeacherInfo=e},preStep:function(){this.dialogVisible1=!0,this.dialogVisible2=!1},submitInfo:function(){var e=this,t="教材版本："+this.paramMap.teachingMaterial+",学习情况："+this.paramMap.studySituation+",试听要求："+this.paramMap.auditApplyRequire,data={adminId:"",city:"",org_code:"jr-gxh",courseInfos:[{bookTime:{date:"",time:""},sourceFlag:+this.paramMap.teachType,teacherId:this.selectTeacherInfo,teacherType:this.selectTeacherInfo,studentId:"",grade:"",kecheng:this.paramMap.subject,htType:"",htId:"",hetongDetailId:"",remark:t}]};this.$api.student.addCourse(data).then((function(t){e.$message.success("排试听课成功"),e.dialogVisible2=!1}))}}},o=(r(500),r(9)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-main",{staticClass:"jr-studentManage-auditApplyList"},[r("el-dialog",{attrs:{modal:"",width:"60%",title:"排试听课","close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":!0,visible:e.dialogVisible1},on:{"update:visible":function(t){e.dialogVisible1=t}}},[r("div",[r("el-form",{ref:"auditForm",attrs:{model:e.paramMap,rules:e.rules,"label-position":"left","label-width":"80px",size:"mini"}},[r("el-row",{attrs:{gutter:18}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"科目",prop:"subject"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"请选择科目"},model:{value:e.paramMap.subject,callback:function(t){e.$set(e.paramMap,"subject",t)},expression:"paramMap.subject"}},e._l(e.options.subject,(function(e){return r("el-option",{key:e.dicCode,attrs:{label:e.name,value:e.name}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"教材版本",prop:"teachingMaterial"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"请选择教材版本"},model:{value:e.paramMap.teachingMaterial,callback:function(t){e.$set(e.paramMap,"teachingMaterial",t)},expression:"paramMap.teachingMaterial"}},e._l(e.options.teaching_material,(function(e){return r("el-option",{key:e.dicCode,attrs:{label:e.name,value:e.name}})})),1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:18}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"学习情况",prop:"studySituation"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{minlength:"10",maxlength:"100"},model:{value:e.paramMap.studySituation,callback:function(t){e.$set(e.paramMap,"studySituation",t)},expression:"paramMap.studySituation"}})],1)],1),e._v(" "),r("span",{staticClass:"apply_explain"},[e._v("包含学校进度、成绩排名等")])],1),e._v(" "),r("el-row",{attrs:{gutter:18}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"试听要求",prop:"auditApplyRequire"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{minlength:"10",maxlength:"100"},model:{value:e.paramMap.auditApplyRequire,callback:function(t){e.$set(e.paramMap,"auditApplyRequire",t)},expression:"paramMap.auditApplyRequire"}},[e._v("需要试听的主题")])],1)],1),e._v(" "),r("span",{staticClass:"apply_explain"},[e._v("需要试听的主题")])],1),e._v(" "),r("el-row",{attrs:{gutter:18}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"授课形式",prop:"teachType"}},[r("el-radio-group",{on:{change:e.changeTeachType},model:{value:e.paramMap.teachType,callback:function(t){e.$set(e.paramMap,"teachType",t)},expression:"paramMap.teachType"}},e._l(e.options.teaching_type,(function(t){return r("el-radio",{key:t.dicCode,attrs:{label:t.dicValue}},[e._v(e._s(t.name))])})),1)],1)],1)],1)],1),e._v(" "),r("CalendarTable",{ref:"calendarTable",on:{singleChange:e.singleChange}})],1),e._v(" "),r("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.nextStep}},[e._v("下一步")])],1)]),e._v(" "),r("el-dialog",{attrs:{modal:"",width:"70%",title:"排试听课","close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":!0,visible:e.dialogVisible2},on:{"update:visible":function(t){e.dialogVisible2=t}}},[r("SelectTeacher",{ref:"searchTeacher",attrs:{title:e.title,searchTeacherData:e.searchTeacherData},on:{changeBtnStatus:e.changeBtnStatus}}),e._v(" "),r("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:e.preStep}},[e._v("上一步")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDisabled},on:{click:e.submitInfo}},[e._v("提交")])],1)],1)],1)}),[],!1,null,"4207c8a9",null);t.default=component.exports}}]);