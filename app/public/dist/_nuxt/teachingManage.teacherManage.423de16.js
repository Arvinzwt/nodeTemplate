(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{493:function(e,t,r){var content=r(524);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(37).default)("5e0802fc",content,!0,{sourceMap:!1})},496:function(e,t,r){"use strict";var l={name:"Pagination",data:function(){return{pagesMsg:{pageIndex:1,pageSize:1,count:0,pageSizes:[20,40,60,80]}}},computed:{pagesInfo:function(){return Object.assign(this.pagesMsg,this.model)}},model:{prop:"model",event:"update"},props:{model:{type:Object,default:function(){return{}}}},methods:{onCurrentPagesChange:function(e){var t=Object.assign(this.pagesInfo,{pageIndex:e});this.$emit("update",t),this.$emit("change",t)},onPagesSizeChange:function(e){var t=Object.assign(this.pagesInfo,{pageSize:e});this.$emit("update",t),this.$emit("change",t)}}},o=r(9),component=Object(o.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"jr-pagination-wrapper"},[t("el-pagination",{attrs:{background:"","page-size":this.pagesInfo.pageSize,"current-page":this.pagesInfo.pageIndex,"page-sizes":this.pagesInfo.pageSizes,layout:"total,sizes, prev, pager, next, jumper",total:this.pagesInfo.count},on:{"current-change":this.onCurrentPagesChange,"size-change":this.onPagesSizeChange}})],1)}),[],!1,null,null,null);t.a=component.exports},520:function(e,t,r){"use strict";var l=r(5),o=r(38),n=r(48),c=r(332),m=r(104),d=r(15),f=r(77).f,h=r(106).f,v=r(16).f,_=r(521).trim,y=l.Number,x=y,k=y.prototype,j="Number"==n(r(105)(k)),I="trim"in String.prototype,M=function(e){var t=m(e,!1);if("string"==typeof t&&t.length>2){var r,l,o,n=(t=I?t.trim():_(t,3)).charCodeAt(0);if(43===n||45===n){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:l=2,o=49;break;case 79:case 111:l=8,o=55;break;default:return+t}for(var code,c=t.slice(2),i=0,d=c.length;i<d;i++)if((code=c.charCodeAt(i))<48||code>o)return NaN;return parseInt(c,l)}}return+t};if(!y(" 0o1")||!y("0b1")||y("+0x1")){y=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof y&&(j?d((function(){k.valueOf.call(r)})):"Number"!=n(r))?c(new x(M(t)),r,y):M(t)};for(var w,S=r(13)?f(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),$=0;S.length>$;$++)o(x,w=S[$])&&!o(y,w)&&v(y,w,h(x,w));y.prototype=k,k.constructor=y,r(20)(l,"Number",y)}},521:function(e,t,r){var l=r(8),o=r(49),n=r(15),c=r(522),m="["+c+"]",d=RegExp("^"+m+m+"*"),f=RegExp(m+m+"*$"),h=function(e,t,r){var o={},m=n((function(){return!!c[e]()||"​"!="​"[e]()})),d=o[e]=m?t(v):c[e];r&&(o[r]=d),l(l.P+l.F*m,"String",o)},v=h.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(d,"")),2&t&&(e=e.replace(f,"")),e};e.exports=h},522:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},523:function(e,t,r){"use strict";var l=r(493);r.n(l).a},524:function(e,t,r){(t=r(36)(!1)).push([e.i,".jr-teacher-teacherManage .mar-t-30{margin-top:20px}.jr-teacher-teacherManage .lin-h-28{line-height:28px}.jr-teacher-teacherManage .red .el-input__inner{border:1px solid #f2545a;color:#f2545a}.jr-teacher-teacherManage .radio-group{display:flex;align-items:center;justify-content:space-between}.jr-teacher-teacherManage .radio-group .radio-group-item{display:flex;flex-direction:column;align-items:center}.jr-teacher-teacherManage .radio-group .radio-group-item img{margin:10px}.jr-teacher-teacherManage .font-bold{font-weight:700}.jr-teacher-teacherManage .d6-wrap{display:flex;align-items:center}.jr-teacher-teacherManage .wrap .title{margin-top:0}.jr-teacher-teacherManage .box{width:300px}.jr-teacher-teacherManage .box .box-item{display:flex;align-items:center;justify-content:space-between}.jr-teacher-teacherManage .box .box-item .icon{cursor:pointer}.jr-teacher-teacherManage .box .t{padding:0 10px}.jr-teacher-teacherManage .box .b .icon{margin:0 10px}.jr-teacher-teacherManage .jr-tag{font-size:12px;cursor:pointer;margin-right:15px}",""]),e.exports=t},537:function(e,t,r){"use strict";r.r(t);r(75),r(28),r(29),r(6),r(63);var l=r(33),o=(r(10),r(2));r(74),r(103),r(520);function n(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={name:"teacherManage",components:{Pagination:r(496).a},computed:{options:function(){return this.$store.state.dicInfo},minOrMax:function(){var e=this;return function(t){var r=0,l=0;if(1===t||2===t)r=Number(e.paramMap.schoolSaturationMin),l=Number(e.paramMap.schoolSaturationMax);else if(3===t||4===t)r=Number(e.paramMap.teacherSaturationMin),l=Number(e.paramMap.teacherSaturationMax);else if(5===t){var o=Number(e.paramMap.schoolSaturationMin),n=Number(e.paramMap.schoolSaturationMax),c=Number(e.paramMap.teacherSaturationMin),m=Number(e.paramMap.teacherSaturationMax);return o<=n&&c<=m}return r<=l}},teachStyleIsSelect:function(){var e=this;return function(t){return e.dialog.form.form4.teachingStyleArray.includes(t)}}},data:function(){return{paramMap:{teacherName:"",schIds:[],grades:[],subjects:[],teacherType:null,sex:null,vipLevelId:null,starLevelId:null,workState:null,csName:{name:"",value:null},schoolLockType:null,teacherSaturationMin:null,teacherSaturationMax:null,schoolSaturationMin:null,schoolSaturationMax:null},pagesInfo:{},tableData:[],dialog:{type:"d4",show:!1,title:"",form:{form1:{csId:null},form2:{slcId:null},form3:{saturationVal:null},form4:{currentType:"add",teacherId:null,teacherType:null,hrCode:null,account:null,teacherName:null,sex:null,slcId:null,tel:null,vipLevelId:null,starLevelId:null,gradeArray:[],subjectArray:[],cynf:null,sxgxArray:[],goodAtArray:[],teachingStyleArray:[],teachingSchoolArray:[],bkkhh:null,bkCardNo:null,jobstate:null,remark:null,organizationId:null,creator_id:null},form6:{tableData:[{}],kssj:"",jssj:"",kssj1:"",jssj1:""},form7:{jhQuitDate:null}},rules:{"form1.csId":{required:!0,message:"请选择",trigger:"blur"},"form2.slcId":{required:!0,message:"请选择",trigger:"blur"},"form3.saturationVal":{required:!0,message:"请选择",trigger:"blur"},form4:{teacherId:{required:!0,message:"请选择",trigger:"blur"},teacherType:{required:!0,message:"请选择",trigger:"blur"},hrCode:{required:!0,message:"请选择",trigger:"blur"},account:{required:!0,message:"请选择",trigger:"blur"},teacherName:{required:!0,message:"请选择",trigger:"blur"},sex:{required:!0,message:"请选择",trigger:"blur"},slcId:{required:!0,message:"请选择",trigger:"blur"},tel:{required:!0,message:"请选择",trigger:"blur"},vipLevelId:{required:!0,message:"请选择",trigger:"blur"},starLevelId:{required:!0,message:"请选择",trigger:"blur"},gradeArray:{required:!0,message:"请选择",trigger:"blur"},subjectArray:{required:!0,message:"请选择",trigger:"blur"},cynf:{required:!0,message:"请选择",trigger:"blur"},sxgxArray:{required:!0,message:"请选择",trigger:"blur"},goodAtArray:{required:!0,message:"请选择",trigger:"blur"},teachingStyleArray:{required:!0,message:"请选择",trigger:"blur"},teachingSchoolArray:{required:!0,message:"请选择",trigger:"blur"},bkkhh:{required:!0,message:"请选择",trigger:"blur"},bkCardNo:{required:!0,message:"请选择",trigger:"blur"},jobstate:{required:!0,message:"请选择",trigger:"blur"},remark:{required:!0,message:"请选择",trigger:"blur"},organizationId:{required:!0,message:"请选择",trigger:"blur"},creator_id:{required:!0,message:"请选择",trigger:"blur"}},"form6.date":{type:"array",required:!0,message:"请选择",trigger:"blur"},"form7.jhQuitDate":{required:!0,message:"请选择",trigger:"blur"}}},dept_list:[],pickerOptions:{disabledDate:function(time){return time.getTime()<Date.now()-864e5}}}},created:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.common.deptList();case 2:e.dept_list=t.sent,e.refreshPage();case 4:case"end":return t.stop()}}),t)})))()},methods:{refreshPage:function(){var e=this;this.$api.teaching.teacherRepositoryList({queries:this.paramMap,pageIndex:this.pagesInfo.pageIndex,pageSize:this.pagesInfo.pageSize}).then((function(t){Object.assign(e.pagesInfo,{pageIndex:t.pageIndex,pageSize:t.pageSize,count:t.count}),e.tableData=t.list||[]}))},onSubmitSearch:function(){this.minOrMax(5)?this.refreshPage():this.$message.error("饱和度起始数值需≤终止数值")},onResetSearch:function(){Object.assign(this.paramMap,{teacherName:"",schIds:[],grades:[],subjects:[],teacherType:null,sex:null,vipLevelId:null,starLevelId:null,workState:null,csName:null,schoolLockType:null,teacherSaturationMin:null,teacherSaturationMax:null,schoolSaturationMin:null,schoolSaturationMax:null}),this.refreshPage()},queryCsList:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.$api.common.csList();case 2:l=e.sent,t(l);case 4:case"end":return e.stop()}}),e)})))()},csListSelect:function(e){Object.assign(this.paramMap.csName,e)},_canBatchOperation:function(){var e=!!this.$refs.filterTable&&this.$refs.filterTable.selection.length>0;return e||this.$message.error("请先选择教师，再进行配置。"),e},associateClass:function(){this._canBatchOperation()&&(this.dialog.show=!0,this.dialog.type="d1",Object.assign(this.dialog.form.form1,{csId:null}),this.dialog.title="教师关联班表")},lockCampus:function(){this._canBatchOperation()&&(this.dialog.show=!0,this.dialog.type="d2",Object.assign(this.dialog.form.form2,{slcId:null}),this.dialog.title="校区锁定管理")},lockSaturation:function(){this._canBatchOperation()&&(this.dialog.show=!0,this.dialog.type="d3",Object.assign(this.dialog.form.form3,{saturationVal:null}),this.dialog.title="教师饱和度锁定配置")},addTeacher:function(){this.dialog.show=!0,this.dialog.type="d4",Object.assign(this.dialog.form.form4,{currentType:"add"}),this.dialog.title="添加老师"},editTeacher:function(e){this.dialog.show=!0,this.dialog.type="d5",console.log(e),Object.assign(this.dialog.form.form4,{currentType:"add"}),this.dialog.title="编辑老师"},teachingStyleClick:function(e){var t=this.dialog.form.form4.teachingStyleArray;this.teachStyleIsSelect(e.dicValue)?t.splice(t.indexOf(e.dicValue),1):t.push(e.dicValue)},resetTeacher:function(e){var t=this;this.$confirm("您是否要将XXX的密码重置为888888？选择确认后将该教师的家园密码重置为888888","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(e){t.$api.teaching.resetPas({}).then((function(e){t.$message.success("重置密码成功")}))})).catch((function(e){}))},leaveTeacher:function(e){this.dialog.show=!0,this.dialog.type="d6",Object.assign(this.dialog.form.form6,c({},e)),this.dialog.title="教师休假"},leaveOffHandle:function(e){var t=this;this.$confirm("XXX老师确定要销假吗？确认后该休假完成销假","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(e){t.$api.teaching.leaveOff({}).then((function(e){t.$message.success("成功")}))}))},resignTeacher:function(e){this.dialog.show=!0,this.dialog.type="d7",Object.assign(this.dialog.form.form7,c(c({},e),{},{jhQuitDate:null})),this.dialog.title="教师离职"},disableTeacher:function(e){var t=this;1===e.status?this.$confirm("确定禁用？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(e){t.$api.teaching.qjy({}).then((function(e){t.$message.success("禁用成功")}))})):this.$api.teaching.qjy({}).then((function(e){t.$message.success("启用成功")}))},onPagesChange:function(e){this.refreshPage()},closeDialog:function(){this.dialog.show=!1},submitDialog:function(){var e=this;this.$refs.filterForm.validate(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(r){var l,o,form;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=42;break}if(l=e.$refs.filterTable.selection.map((function(e){return e.teacherId})),o=e.$store.state.userInfo.userId,form=e.dialog.form,"d1"!==e.dialog.type){t.next=9;break}return t.next=7,e.$api.teaching.teacherBindClassSchedule({teacherId:l,creator_id:o,csId:form.form1.csId}).then((function(t){e.$message.success("关联班表成功")}));case 7:t.next=37;break;case 9:if("d2"!==e.dialog.type){t.next=14;break}return t.next=12,e.$api.teaching.teacherBindClassSchedule({teacherId:l,creator_id:o,slcId:e.dialog.form.form2.slcId}).then((function(t){e.$message.success("校区锁定配置成功")}));case 12:t.next=37;break;case 14:if("d3"!==e.dialog.type){t.next=19;break}return t.next=17,e.$api.teaching.sTeacherBindLock({teacherId:l,saturationType:0,saturationVal:e.dialog.form.form3.saturationVal}).then((function(t){e.$message.success("饱和度锁定配置成功")}));case 17:t.next=37;break;case 19:if("d4"!==e.dialog.type){t.next=24;break}return t.next=22,e.$api.teaching.RegisterTeacher(c({},e.dialog.form.form4)).then((function(t){e.$message.success("新增老师成功")}));case 22:t.next=37;break;case 24:if("d5"!==e.dialog.type){t.next=29;break}return t.next=27,e.$api.teaching.modifyTeacherBaseInfo(c({},e.dialog.form.form4)).then((function(t){e.$message.success("编辑老师成功")}));case 27:t.next=37;break;case 29:if("d6"!==e.dialog.type){t.next=34;break}return t.next=32,e.$api.teaching.saveLeaveApply({teacherId:form.form6.teacherId,kssj:form.form6.kssj,jssj:form.form6.jssj,creator_id:o}).then((function(t){e.$message.success("成功")}));case 32:t.next=37;break;case 34:if("d7"!==e.dialog.type){t.next=37;break}return t.next=37,e.$api.teaching.saveQuitApply({teacherId:form.form7.teacherId,jhQuitDate:form.form7.jhQuitDate,creator_id:o}).then((function(t){e.$message.success("成功")}));case 37:return t.next=39,e.refreshPage();case 39:return t.abrupt("return",e.closeDialog());case 42:return t.abrupt("return",!1);case 43:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},d=(r(523),r(9)),component=Object(d.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-main",{staticClass:"jr-teacher-teacherManage"},[r("h2",[e._v("教师管理")]),e._v(" "),r("el-form",{staticClass:"jr-filter-form",attrs:{size:"mini","label-width":"70px","label-position":"left"}},[r("el-row",{attrs:{gutter:18}},[r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"姓名/工号"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入教师姓名/工号"},model:{value:e.paramMap.teacherName,callback:function(t){e.$set(e.paramMap,"teacherName",t)},expression:"paramMap.teacherName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"任教校区"}},[r("el-cascader",{attrs:{placeholder:"请选择任教校区",options:e.dept_list,props:{multiple:!0},"collapse-tags":"",clearable:""},model:{value:e.paramMap.schIds,callback:function(t){e.$set(e.paramMap,"schIds",t)},expression:"paramMap.schIds"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"年级"}},[r("el-select",{attrs:{clearable:"",multiple:"","collapse-tags":"",placeholder:"请选择年级"},model:{value:e.paramMap.grades,callback:function(t){e.$set(e.paramMap,"grades",t)},expression:"paramMap.grades"}},e._l(e.options.grade,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"科目"}},[r("el-select",{attrs:{clearable:"",multiple:"","collapse-tags":"",placeholder:"请选择科目"},model:{value:e.paramMap.subjects,callback:function(t){e.$set(e.paramMap,"subjects",t)},expression:"paramMap.subjects"}},e._l(e.options.subject,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"校区饱和度锁定配置","label-width":"120px"}},[r("el-row",[r("el-col",{attrs:{span:11}},[r("el-input",{class:e.minOrMax(1)?"":"red",attrs:{clearable:"",placeholder:"请输入饱和度数值",type:"number",maxlength:"3"},model:{value:e.paramMap.schoolSaturationMin,callback:function(t){e.$set(e.paramMap,"schoolSaturationMin",t)},expression:"paramMap.schoolSaturationMin"}})],1),e._v(" "),r("el-col",{staticClass:"t-center",attrs:{span:2}},[e._v("至")]),e._v(" "),r("el-col",{attrs:{span:11}},[r("el-input",{class:e.minOrMax(2)?"":"red",attrs:{clearable:"",placeholder:"请输入饱和度数值",type:"number",maxlength:"3"},model:{value:e.paramMap.schoolSaturationMax,callback:function(t){e.$set(e.paramMap,"schoolSaturationMax",t)},expression:"paramMap.schoolSaturationMax"}})],1)],1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:18}},[r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"全职/兼职"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择全职/兼职"},model:{value:e.paramMap.teacherType,callback:function(t){e.$set(e.paramMap,"teacherType",t)},expression:"paramMap.teacherType"}},e._l(e.options.full_part_time,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"性别"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择性别"},model:{value:e.paramMap.sex,callback:function(t){e.$set(e.paramMap,"sex",t)},expression:"paramMap.sex"}},e._l(e.options.sex,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"星级"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择星级"},model:{value:e.paramMap.starLevelId,callback:function(t){e.$set(e.paramMap,"starLevelId",t)},expression:"paramMap.starLevelId"}},e._l(e.options.star_level,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"是否VIP"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择是否VIP"},model:{value:e.paramMap.vipLevelId,callback:function(t){e.$set(e.paramMap,"vipLevelId",t)},expression:"paramMap.vipLevelId"}},e._l(e.options.is_vip,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"教师饱和度锁定配置","label-width":"120px"}},[r("el-row",[r("el-col",{attrs:{span:11}},[r("el-input",{class:e.minOrMax(3)?"":"red",attrs:{clearable:"",placeholder:"请输入饱和度数值",type:"number"},model:{value:e.paramMap.teacherSaturationMin,callback:function(t){e.$set(e.paramMap,"teacherSaturationMin",t)},expression:"paramMap.teacherSaturationMin"}})],1),e._v(" "),r("el-col",{staticClass:"t-center",attrs:{span:2}},[e._v("至")]),e._v(" "),r("el-col",{attrs:{span:11}},[r("el-input",{class:e.minOrMax(4)?"":"red",attrs:{clearable:"",placeholder:"请输入饱和度数值",type:"number"},model:{value:e.paramMap.teacherSaturationMax,callback:function(t){e.$set(e.paramMap,"teacherSaturationMax",t)},expression:"paramMap.teacherSaturationMax"}})],1)],1)],1)],1)],1),e._v(" "),r("el-row",{attrs:{gutter:18}},[r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"工作状态"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择工作状态"},model:{value:e.paramMap.workState,callback:function(t){e.$set(e.paramMap,"workState",t)},expression:"paramMap.workState"}},e._l(e.options.work_status,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"校区锁定"}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择校区锁定配置"},model:{value:e.paramMap.schoolLockType,callback:function(t){e.$set(e.paramMap,"schoolLockType",t)},expression:"paramMap.schoolLockType"}},e._l(e.options.campus_lock_type,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"课表"}},[r("el-autocomplete",{staticClass:"inline-input",attrs:{clearable:"","fetch-suggestions":e.queryCsList,placeholder:"请选择课表"},on:{select:e.csListSelect},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.item;return[r("div",{staticClass:"name"},[e._v(e._s(l.name))])]}}]),model:{value:e.paramMap.csName.name,callback:function(t){e.$set(e.paramMap.csName,"name",t)},expression:"paramMap.csName.name"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticClass:"t-right",attrs:{label:""}},[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmitSearch}},[e._v("查询")]),e._v(" "),r("el-button",{on:{click:e.onResetSearch}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"action bar t-right mar-t-30"},[r("el-button",{attrs:{size:"mini",type:""},on:{click:e.associateClass}},[e._v("关联班表")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:""},on:{click:e.lockCampus}},[e._v("校区锁定配置")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:""},on:{click:e.lockSaturation}},[e._v("饱和度锁定配置")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addTeacher}},[e._v("+教师")])],1),e._v(" "),r("el-table",{ref:"filterTable",staticClass:"jr-table",attrs:{"cell-class-name":"jr-table_cell","header-cell-class-name":"jr-table_header",data:e.tableData,border:"",size:"mini"}},[r("el-table-column",{attrs:{type:"selection",align:"center",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{label:"姓名",width:"290"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{},[e._v(e._s(t.row.teacherName))]),e._v(" "),1===t.row.sex?r("span",{staticClass:"el-icon-male color-blue font-14"}):e._e(),e._v(" "),0===t.row.sex?r("span",{staticClass:"el-icon-female color-red font-14"}):e._e(),e._v(" "),r("el-tag",{attrs:{size:"mini",type:"warning"}},[e._v(e._s(t.row.starLevel))]),e._v(" "),r("el-tag",{attrs:{size:"mini",type:"warning"}},[e._v(e._s(t.row.vipLevel))]),e._v(" "),r("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(e._s(t.row.grade))]),e._v(" "),r("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(e._s(t.row.subject))]),e._v(" "),0===t.row.teacherType?r("el-tag",{attrs:{size:"mini",type:"warning"}},[e._v("兼职")]):e._e(),e._v(" "),1===t.row.teacherType?r("el-tag",{attrs:{size:"mini",type:"warning"}},[e._v("全职")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"账号",prop:"account",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{label:"任教校区",prop:"schoolNames","min-width":"110"}}),e._v(" "),r("el-table-column",{attrs:{label:"关联的课表",prop:"scheduleNames","min-width":"105"}}),e._v(" "),r("el-table-column",{attrs:{label:"校区锁定配置",prop:"schLockName",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{label:"饱和度锁定配置",prop:"satLock",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v("教师"+e._s(t.row.teacherSaturation)+"%")]),e._v(" "),r("span",[e._v("|")]),e._v(" "),r("span",[e._v("校区"+e._s(t.row.schoolSaturation)+"%")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"工作状态",prop:"workState",width:"70"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-link",{attrs:{type:"primary"},on:{click:function(r){return e.editTeacher(t.row)}}},[e._v("编辑")]),e._v(" "),r("el-link",{attrs:{type:"primary"},on:{click:function(r){return e.resetTeacher(t.row)}}},[e._v("重置密码")]),e._v(" "),r("el-link",{attrs:{type:"primary"},on:{click:function(r){return e.leaveTeacher(t.row)}}},[e._v("休假")]),e._v(" "),r("el-link",{attrs:{type:"primary"},on:{click:function(r){return e.resignTeacher(t.row)}}},[e._v("离职")]),e._v(" "),r("el-link",{attrs:{type:"primary"},on:{click:function(r){return e.disableTeacher(t.row)}}},[1===t.row.status?r("span",{staticClass:"color-red"},[e._v("禁用")]):r("span",[e._v("启用")])])]}}])})],1),e._v(" "),r("Pagination",{on:{change:e.onPagesChange},model:{value:e.pagesInfo,callback:function(t){e.pagesInfo=t},expression:"pagesInfo"}}),e._v(" "),r("el-dialog",{staticClass:"jr-KnowledgeTree-dialog chooseKnowledge",attrs:{modal:"","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,title:e.dialog.title,visible:e.dialog.show},on:{"update:visible":function(t){return e.$set(e.dialog,"show",t)}}},[r("el-form",{ref:"filterForm",staticClass:"jr-filter-form",attrs:{size:"mini","label-width":"70px","label-position":"left",model:e.dialog.form,rules:e.dialog.rules}},["d1"===e.dialog.type?r("div",[r("el-form-item",{staticClass:"wid-300",attrs:{label:"关联班表",prop:"form1.csId"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dialog.form.form1.csId,callback:function(t){e.$set(e.dialog.form.form1,"csId",t)},expression:"dialog.form.form1.csId"}},e._l(e.options.campus_lock_type,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1):e._e(),e._v(" "),"d2"===e.dialog.type?r("div",[r("el-form-item",{attrs:{label:"","label-width":"0",prop:"form2.slcId"}},[r("div",{staticClass:"radio-group"},[r("label",{staticClass:"radio-group-item"},[r("img",{attrs:{src:"/images/campus_lock_type1.png",width:"200",alt:"半天锁定"}}),e._v(" "),r("el-radio",{attrs:{label:"1"},model:{value:e.dialog.form.form2.slcId,callback:function(t){e.$set(e.dialog.form.form2,"slcId",t)},expression:"dialog.form.form2.slcId"}},[e._v("半天锁定")])],1),e._v(" "),r("label",{staticClass:"radio-group-item"},[r("img",{attrs:{src:"/images/campus_lock_type2.png",width:"200",alt:"早午晚锁定"}}),e._v(" "),r("el-radio",{attrs:{label:"2"},model:{value:e.dialog.form.form2.slcId,callback:function(t){e.$set(e.dialog.form.form2,"slcId",t)},expression:"dialog.form.form2.slcId"}},[e._v("早午晚锁定")])],1),e._v(" "),r("label",{staticClass:"radio-group-item"},[r("img",{attrs:{src:"/images/campus_lock_type3.png",width:"200",alt:"全天锁定"}}),e._v(" "),r("el-radio",{attrs:{label:"3"},model:{value:e.dialog.form.form2.slcId,callback:function(t){e.$set(e.dialog.form.form2,"slcId",t)},expression:"dialog.form.form2.slcId"}},[e._v("全天锁定")])],1)])]),e._v(" "),r("span",{staticClass:"font-basic mar-r-15"},[e._v("注：当老师被排课（含试听、正价课）则该老师被锁定在被排课学员所在的校区，锁定时长为上方配置")])],1):e._e(),e._v(" "),"d3"===e.dialog.type?r("div",[r("el-row",{attrs:{gutter:15}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"教师个人饱和度","label-width":"140px",prop:"form3.saturationVal"}},[r("el-input",{attrs:{type:"number",maxlength:"3",clearable:"",placeholder:"请输入"},model:{value:e.dialog.form.form3.saturationVal,callback:function(t){e.$set(e.dialog.form.form3,"saturationVal",t)},expression:"dialog.form.form3.saturationVal"}},[r("template",{slot:"append"},[e._v("%")])],2)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"font-basic lin-h-28"},[e._v("教师个人饱和度=授课课时数/48")])])],1),e._v(" "),r("div",{staticClass:"color-gray font-basic mar-b-15"},[e._v("\n                    当教师个人的饱和度≥上方数值时，符合条件的教师将不可再被新校区排课。 例：张三任教校区设置为A、B、C，当前在A、B校区被排课，若张三个人饱和度已达阈值，则C校区无法给张三排课\n                ")]),e._v(" "),r("el-row",{attrs:{gutter:15}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"教师任教校区饱和度","label-width":"140px",prop:"form3.saturationVal"}},[r("el-input",{attrs:{type:"number",maxlength:"3",clearable:"",placeholder:"请输入"},model:{value:e.dialog.form.form3.saturationVal,callback:function(t){e.$set(e.dialog.form.form3,"saturationVal",t)},expression:"dialog.form.form3.saturationVal"}},[r("template",{slot:"append"},[e._v("%")])],2)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"font-basic lin-h-28"},[e._v("教师任教校区饱和度=校区授课课时数/48")])])],1),e._v(" "),r("div",{staticClass:"color-gray font-basic mar-b-15"},[e._v("\n                    当教师任教校区的饱和度≥上方数值时，符合条件的教师将不可再被新校区排课。\n                    例：张三任教校区设置为A、B、C，当前在A、B校区被排课，若张三在A校区的任教校区饱和度已达阈值，则C校区无法给张三排课\n                ")])],1):e._e(),e._v(" "),"d4"===e.dialog.type||"d5"===e.dialog.type?r("div",[r("el-tabs",{model:{value:e.dialog.form.form4.currentType,callback:function(t){e.$set(e.dialog.form.form4,"currentType",t)},expression:"dialog.form.form4.currentType"}},[r("el-tab-pane",{attrs:{label:"基础信息",name:"add"}},[r("el-row",{attrs:{gutter:18}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"教师类型",prop:"form4.teacherType"}},[r("el-radio-group",{model:{value:e.dialog.form.form4.teacherType,callback:function(t){e.$set(e.dialog.form.form4,"teacherType",t)},expression:"dialog.form.form4.teacherType"}},e._l(e.options.full_part_time,(function(e){return r("el-radio",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),0===e.dialog.form.form4.teacherType?r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"教师账号",prop:"form4.account"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.form.form4.account,callback:function(t){e.$set(e.dialog.form.form4,"account",t)},expression:"dialog.form.form4.account"}})],1)],1):e._e(),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"教师性别",prop:"form4.sex"}},[r("el-radio-group",{model:{value:e.dialog.form.form4.sex,callback:function(t){e.$set(e.dialog.form.form4,"sex",t)},expression:"dialog.form.form4.sex"}},e._l(e.options.sex,(function(e){return r("el-radio",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),1===e.dialog.form.form4.teacherType?r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"教师工号",prop:"form4.hrCode"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.form.form4.hrCode,callback:function(t){e.$set(e.dialog.form.form4,"hrCode",t)},expression:"dialog.form.form4.hrCode"}})],1)],1):e._e(),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"教师姓名",prop:"form4.teacherName"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.form.form4.teacherName,callback:function(t){e.$set(e.dialog.form.form4,"teacherName",t)},expression:"dialog.form.form4.teacherName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"联系电话",prop:"form4.tel"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.form.form4.tel,callback:function(t){e.$set(e.dialog.form.form4,"tel",t)},expression:"dialog.form.form4.tel"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"电子邮件",prop:"form4.tel"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.form.form4.tel,callback:function(t){e.$set(e.dialog.form.form4,"tel",t)},expression:"dialog.form.form4.tel"}},[r("template",{slot:"append"},[e._v("@onesmart.org")])],2)],1)],1),e._v(" "),0===e.dialog.form.form4.teacherType?r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"证件号码",prop:"form4.tel"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.form.form4.tel,callback:function(t){e.$set(e.dialog.form.form4,"tel",t)},expression:"dialog.form.form4.tel"}})],1)],1):e._e(),e._v(" "),0===e.dialog.form.form4.teacherType?r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"银行卡号",prop:"form4.bkCardNo"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.form.form4.bkCardNo,callback:function(t){e.$set(e.dialog.form.form4,"bkCardNo",t)},expression:"dialog.form.form4.bkCardNo"}})],1)],1):e._e(),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"VIP等级",prop:"form4.vipLevelId"}},[r("el-select",{attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:e.dialog.form.form4.vipLevelId,callback:function(t){e.$set(e.dialog.form.form4,"vipLevelId",t)},expression:"dialog.form.form4.vipLevelId"}},e._l(e.options.is_vip,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"教师星级",prop:"form4.starLevelId"}},[r("el-select",{attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:e.dialog.form.form4.starLevelId,callback:function(t){e.$set(e.dialog.form.form4,"starLevelId",t)},expression:"dialog.form.form4.starLevelId"}},e._l(e.options.star_level,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"任教校区",prop:"form4.teachingSchoolArray"}},[r("el-cascader",{attrs:{placeholder:"请选择任教校区",options:e.dept_list,props:{multiple:!0},multiple:"","collapse-tags":"",clearable:""},model:{value:e.dialog.form.form4.teachingSchoolArray,callback:function(t){e.$set(e.dialog.form.form4,"teachingSchoolArray",t)},expression:"dialog.form.form4.teachingSchoolArray"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"任教年级",prop:"form4.gradeArray"}},[r("el-select",{attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:e.dialog.form.form4.gradeArray,callback:function(t){e.$set(e.dialog.form.form4,"gradeArray",t)},expression:"dialog.form.form4.gradeArray"}},e._l(e.options.grade,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"任教科目",prop:"form4.subjectArray"}},[r("el-select",{attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:e.dialog.form.form4.subjectArray,callback:function(t){e.$set(e.dialog.form.form4,"subjectArray",t)},expression:"dialog.form.form4.subjectArray"}},e._l(e.options.subject,(function(e){return r("el-option",{key:e.dicValue,attrs:{label:e.name,value:e.dicValue}})})),1)],1)],1)],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:"详细信息",name:"edit"}},[r("el-form-item",{staticClass:"wid-300",attrs:{label:"教龄"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.dialog.form.form4.input,callback:function(t){e.$set(e.dialog.form.form4,"input",t)},expression:"dialog.form.form4.input"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"熟悉公校"}},[r("div",{staticClass:"box"},[r("div",{staticClass:"box-item t"},[r("span",[e._v("xxx公校")]),e._v(" "),r("span",{staticClass:"icon font-16 color-blue el-icon-remove-outline"})]),e._v(" "),r("div",{staticClass:"box-item b"},[r("el-select",{attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:e.dialog.form.form1.sxgxArray,callback:function(t){e.$set(e.dialog.form.form1,"sxgxArray",t)},expression:"dialog.form.form1.sxgxArray"}},e._l(e.options.dept_list,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),r("span",{staticClass:"icon font-16 color-blue el-icon-circle-plus-outline"})],1)])]),e._v(" "),r("el-form-item",{attrs:{label:"擅长模块"}},[r("div",{staticClass:"box"},[r("div",{staticClass:"box-item t"},[r("span",[e._v("吹牛")]),e._v(" "),r("span",{staticClass:"icon font-16 color-blue el-icon-remove-outline"})])])]),e._v(" "),r("el-form-item",{attrs:{label:"教学风格"}},e._l(e.options.teaching_style,(function(t){return r("el-tag",{key:t.dicValue,staticClass:"jr-tag",attrs:{type:e.teachStyleIsSelect(t.dicValue)?"":"info",size:"mini"},on:{click:function(r){return e.teachingStyleClick(t)}}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])})),1)],1)],1)],1):e._e(),e._v(" "),"d6"===e.dialog.type?r("div",[r("div",{staticClass:"wrap"},[r("h3",{staticClass:"title"},[e._v("销假")]),e._v(" "),r("el-table",{ref:"filterTable2",staticClass:"jr-table mar-l-15",attrs:{"cell-class-name":"jr-table_cell","header-cell-class-name":"jr-table_header",data:e.dialog.form.form6.tableData,size:"mini"}},[r("el-table-column",{attrs:{align:"center",label:"休假时间",prop:"account"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                2020-01-01 第一档 ~ 2020-01-02 第二档\n                            ")]}}],null,!1,4019325953)}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"销假",width:"90",prop:"account"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-link",{attrs:{type:"primary"},on:{click:e.leaveOffHandle}},[e._v("销假")])]}}],null,!1,2597548647)})],1)],1),e._v(" "),r("div",{staticClass:"wrap"},[r("h3",{staticClass:"title"},[e._v("休假")]),e._v(" "),r("el-form-item",{staticClass:"mar-l-15",attrs:{label:"休假日期"}},[r("div",{staticClass:"d6-wrap"},[r("el-date-picker",{staticClass:"mar-r-15",attrs:{type:"date",placeholder:"选择日期"},model:{value:e.dialog.form.form6.kssj,callback:function(t){e.$set(e.dialog.form.form6,"kssj",t)},expression:"dialog.form.form6.kssj"}}),e._v(" "),r("el-select",{staticClass:"mar-r-15",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.dialog.form.form6.kssj1,callback:function(t){e.$set(e.dialog.form.form6,"kssj1",t)},expression:"dialog.form.form6.kssj1"}},[r("el-option",{attrs:{label:"第一段",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"第二段",value:"2"}})],1),e._v(" "),r("div",{staticClass:"mar-r-15"},[e._v("-")]),e._v(" "),r("el-date-picker",{staticClass:"mar-r-15",attrs:{type:"date",placeholder:"选择日期"},model:{value:e.dialog.form.form6.jssj,callback:function(t){e.$set(e.dialog.form.form6,"jssj",t)},expression:"dialog.form.form6.jssj"}}),e._v(" "),r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.dialog.form.form6.Jssj1,callback:function(t){e.$set(e.dialog.form.form6,"Jssj1",t)},expression:"dialog.form.form6.Jssj1"}},[r("el-option",{attrs:{label:"第一段",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"第二段",value:"2"}})],1)],1)])],1)]):e._e(),e._v(" "),"d7"===e.dialog.type?r("div",[r("el-form-item",{staticClass:"wid-300",attrs:{label:"离职日期"}},[r("el-date-picker",{attrs:{type:"date","picker-options":e.pickerOptions,placeholder:"选择日期"},model:{value:e.dialog.form.form7.jhQuitDate,callback:function(t){e.$set(e.dialog.form.form7,"jhQuitDate",t)},expression:"dialog.form.form7.jhQuitDate"}})],1)],1):e._e()]),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:e.closeDialog}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.submitDialog}},[e._v("提 交")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);